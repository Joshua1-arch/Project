<!DOCTYPE html>
<html>
<head>
	<title>SignUp</title>
	<!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous"> -->
	<link rel="stylesheet" type="text/css" href="style.css">
	<link rel="shortcut icon" type="text/css" href="download.png">
	<link rel="stylesheet" type="text/css" href="bootstrap-5.0.0-beta3-dist/css/bootstrap.css">
</head>
<body>
	  <nav class="navbar navbar-expand-lg navbar-light shadow" style=" background-color:black;">
  <a class="navbar-brand" href="#"> <img src="download-removebg-preview.png" style="width:100px;" alt=""></a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">
      <button class="text-white"style="margin-left:10px; background-color:black; border:none"onclick="access()">
      <li class="nav-item" >
        <a href="signIn.html" style="text-decoration:none">Log in</a>
        </button>
      </li>
      <button  class="text-white"style="margin-left:10px; background-color:black; border:none"onclick="myfunc()">
       <li class="nav-item">
        <a href="admin.html" style="text-decoration:none">Admin</a>
        </button>
      </li>
      <button  class="text-white" style=" outline: none;margin-left:10px; background-color:black; border:none">
       <li class="nav-item">
       <a href="Home.html" style="text-decoration:none">Log out</a>
        </button>
      </li>
    </ul>
   
  </div>
</nav>
	<center>
		<div id="showStatus"></div>
	<form >
  <div class="mb-1 form-text">
    <label class="form-label text-white" style="color: white">First Name</label>
    <input class="form-control  w-25" id="fName" placeholder="First Name" required>
  </div>

  <div class="form-text mb-1">
    <label class="form-input-label text-white"  style="color: white">Lastname</label>
    <input type="text" class="form-control  w-25" placeholder="Last Name" id="lName" required>
  </div>

  <div class="form-text mb-1">
    <label class="form-text-label text-white" style="color: white">Phone Number</label>
    <input type="text" class="form-control  w-25" placeholder="Phone Number" id="phone" required>
  </div>


  <div class="form-email mb-1">
    <label class="form-email-label text-white"  style="color: white">Email</label>
    <input type="mail" class="form-control  w-25" placeholder="abcd@info.com" id="email" required>
  </div>
  
  <div class="form-password mb-1">
    <label class="form-password-label text-white"  style="color: white">Pin</label>
    <input type="password" class="form-control  w-25" placeholder="Eg. 1234" id="pin" required>
  </div>
    <button type="button" class="btn btn-success" onclick="signUp()">Sign Up</button>
</form>
</center>

	<script type="text/javascript">
		let allClient = []

		function signUp() {
			customers = {}
			customers.firstName = fName.value;
			customers.lastName = lName.value;
			customers.phoneNumber = phone.value;
			customers.mail = email.value;
			customers.uPin = pin.value;
			customers.accNo = '101' + Math.floor(Math.random()*100000000)
			customers.amount = 10000
			if (localStorage.allCustomers) {
				existing = JSON.parse(localStorage.allCustomers)
				allClient = existing
				if (allClient != "") {
					for (var i = 0; i < allClient.length; i++) {
						if (phone.value == allClient[i].phoneNumber) {
							alert("Phone Number Already Exists, Try a different phone number")
							return
						} else {
							alert("Sign in successful, Your account Number is " + customers.accNo)
							allClient.push(customers)
							localStorage.allCustomers = JSON.stringify(allClient)
							window.location.href='signin.html'
							return
						}
					}
				} else {
					alert("Sign in successful, Your account Number is " + customers.accNo);
					allClient.push(customers);
					localStorage.allCustomers = JSON.stringify(allClient);
					window.location.href='signin.html'
					return;
				}
				
				// allClient.push(customers)
				// localStorage.allCustomers = JSON.stringify(allClient)
			} else {
				alert("Sign in successful, Your account Number is " + customers.accNo)
				allClient.push(customers)
				localStorage.allCustomers = JSON.stringify(allClient)
				window.location.href='signin.html'
			}
			fName.value = '';
			lName.value = '';
			phone.value = '';
			email.value = '';
			pin.value ='';
			// windows.open('personalPortal.html')
			
		}

			
		
	</script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
</body>
</html>